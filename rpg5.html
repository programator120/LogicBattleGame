<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Hra s Lukostreleck√Ωmi √ötokmi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            display: flex;
            min-height: 100vh;
            color: white;
            overflow: hidden;
            padding: 20px;
        }
        
        .main-container {
            display: flex;
            width: 100%;
            max-width: 1800px;
            margin: 0 auto;
            gap: 20px;
            height: calc(100vh - 40px);
        }
        
        .game-section {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
        }
        
        .info-section {
            width: 350px;
            min-width: 350px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.7);
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 15px;
            border: 2px solid #ffcc00;
        }
        
        h1 {
            font-size: 2.4rem;
            margin-bottom: 10px;
            color: #ffcc00;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #f0f0f0;
        }
        
        .game-container {
            width: 100%;
            flex: 1;
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
            overflow: hidden;
            position: relative;
            border: 4px solid #ffcc00;
        }
        
        #game-board {
            width: 100%;
            height: 100%;
            position: relative;
            background: 
                linear-gradient(rgba(20, 30, 48, 0.8), rgba(36, 59, 85, 0.8)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231a1a2e" opacity="0.3"/><path d="M0 0L100 100M100 0L0 100" stroke="%233a3a5a" stroke-width="1" opacity="0.3"/></svg>');
            background-size: 100px;
            cursor: pointer;
        }
        
        .player {
            width: 70px;
            height: 70px;
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: bold;
            color: white;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.7);
            transition: transform 0.3s ease;
            z-index: 10;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        #player1 {
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            left: 150px;
            top: 200px;
            border: 3px solid #ffcc00;
        }
        
        #player2 {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            left: 600px;
            top: 200px;
            border: 3px solid #ffcc00;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.9);
            border-bottom: 3px solid #ffcc00;
        }
        
        .player-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 25px;
            border-radius: 15px;
            min-width: 180px;
            background: rgba(30, 30, 30, 0.8);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .player1-status {
            border-left: 5px solid #ff416c;
        }
        
        .player2-status {
            border-right: 5px solid #11998e;
        }
        
        .player-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .hp-bar {
            width: 100%;
            height: 25px;
            background-color: #222;
            border-radius: 12px;
            margin-top: 8px;
            overflow: hidden;
            border: 2px solid #333;
        }
        
        .hp-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.3);
        }
        
        .player1-status .hp-fill {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
        }
        
        .player2-status .hp-fill {
            background: linear-gradient(to right, #11998e, #38ef7d);
        }
        
        .turn-indicator {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 22px;
            font-weight: bold;
            padding: 0 20px;
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            border-radius: 50px;
            color: #1a1a2e;
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.8);
            animation: pulse 1.5s infinite;
            min-width: 180px;
        }
        
        .time-left {
            font-size: 28px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 15px rgba(255, 204, 0, 0.8); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(255, 204, 0, 1); }
            100% { transform: scale(1); box-shadow: 0 0 15px rgba(255, 204, 0, 0.8); }
        }
        
        .attack-effect {
            position: absolute;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            animation: explode 0.8s forwards;
            z-index: 5;
        }
        
        @keyframes explode {
            0% { transform: scale(0.1); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        .game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.92);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            font-size: 52px;
            font-weight: bold;
            color: #ffcc00;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
            display: none;
        }
        
        .restart-btn {
            margin-top: 30px;
            padding: 18px 50px;
            font-size: 22px;
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            font-weight: bold;
        }
        
        .restart-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 75, 43, 0.9);
        }
        
        .announcement-container {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            z-index: 20;
        }
        
        .announcement {
            background: rgba(0, 0, 0, 0.85);
            color: #ffcc00;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.4rem;
            font-weight: bold;
            text-align: center;
            border: 2px solid #ff9900;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7);
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.5s ease;
            max-width: 80%;
        }
        
        .announcement.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .critical-hit {
            color: #ff3333;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.7);
        }
        
        .heal {
            color: #33ff77;
            text-shadow: 0 0 10px rgba(0, 255, 100, 0.7);
        }
        
        .combat-log {
            height: 150px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #ffcc00;
            border-radius: 10px;
            padding: 10px;
            overflow-y: auto;
            font-size: 1rem;
        }
        
        .log-entry {
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .log-entry:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .damage-log {
            color: #ff6666;
        }
        
        .heal-log {
            color: #66ff99;
        }
        
        .info-log {
            color: #66aaff;
        }
        
        .critical-log {
            color: #ff3333;
            font-weight: bold;
        }
        
        .item-log {
            color: #ffcc00;
        }
        
        .special-effect {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            animation: rise 2s forwards;
            z-index: 15;
        }
        
        @keyframes rise {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }
        
        /* ≈†t√Ωly pre predmety */
        .item {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            z-index: 9;
            animation: pulse-item 2s infinite;
            cursor: pointer;
        }
        
        @keyframes pulse-item {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .heal-item {
            background: rgba(255, 0, 0, 0.3);
            border: 2px solid #ff3333;
            color: #ff6666;
        }
        
        .damage-item {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #333;
            color: #666;
        }
        
        .boost-item {
            background: rgba(255, 204, 0, 0.3);
            border: 2px solid #ffcc00;
            color: #ffcc00;
        }
        
        .shield-item {
            background: rgba(0, 123, 255, 0.3);
            border: 2px solid #007bff;
            color: #66aaff;
        }
        
        .gold-item {
            background: rgba(255, 215, 0, 0.3);
            border: 2px solid #ffd700;
            color: #ffd700;
        }
        
        .trap-item {
            background: rgba(139, 0, 0, 0.3);
            border: 2px solid #8b0000;
            color: #8b0000;
        }
        
        .time-item {
            background: rgba(100, 100, 200, 0.3);
            border: 2px solid #6464c8;
            color: #a0a0ff;
        }
        
        .info-card {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #ffcc00;
        }
        
        .info-card h2 {
            color: #ffcc00;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .rules-list {
            list-style: none;
            margin-top: 15px;
        }
        
        .rules-list li {
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
        }
        
        .rules-list li:before {
            content: "‚Ä¢";
            color: #ffcc00;
            font-size: 24px;
            position: absolute;
            left: 0;
            top: -4px;
        }
        
        .items-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .item-card {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(30, 30, 40, 0.6);
            border-radius: 10px;
            border-left: 4px solid;
        }
        
        .heal-item-card {
            border-left-color: #ff3333;
        }
        
        .damage-item-card {
            border-left-color: #333;
        }
        
        .boost-item-card {
            border-left-color: #ffcc00;
        }
        
        .shield-item-card {
            border-left-color: #007bff;
        }
        
        .gold-item-card {
            border-left-color: #ffd700;
        }
        
        .trap-item-card {
            border-left-color: #8b0000;
        }
        
        .time-item-card {
            border-left-color: #6464c8;
        }
        
        .item-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .item-info h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .item-info p {
            font-size: 0.85rem;
            color: #ccc;
        }
        
        .sound-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(30, 30, 40, 0.6);
            border-radius: 10px;
        }
        
        .sound-btn {
            background: #ffcc00;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: #1a1a2e;
        }
        
        .volume-slider {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #444;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ffcc00;
            cursor: pointer;
        }
        
        .player-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-btn {
            flex: 1;
            padding: 10px;
            background: rgba(255, 204, 0, 0.3);
            border: 1px solid #ffcc00;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            background: rgba(255, 204, 0, 0.5);
        }
        
        /* Range indicators */
        .range-indicator {
            position: absolute;
            border: 2px dashed rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            display: none;
        }
        
        .move-range {
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        .attack-range {
            border-color: rgba(255, 0, 0, 0.5);
        }
        
        /* Lukostreleck√© √∫toky */
        .attack-options {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .attack-option {
            padding: 10px;
            background: rgba(30, 30, 40, 0.6);
            border-radius: 8px;
            border: 2px solid #ff9900;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 100px;
        }
        
        .attack-option:hover {
            background: rgba(255, 153, 0, 0.3);
            transform: scale(1.05);
        }
        
        .attack-option.selected {
            background: rgba(255, 153, 0, 0.7);
            box-shadow: 0 0 15px rgba(255, 153, 0, 0.7);
        }
        
        .attack-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .attack-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .arrow {
            position: absolute;
            z-index: 8;
            width: 40px;
            height: 10px;
            background: #ff9900;
            border-radius: 5px;
            transform-origin: left center;
            box-shadow: 0 0 10px rgba(255, 153, 0, 0.7);
        }
        
        .fire-arrow {
            background: linear-gradient(to right, #ff9900, #ff3300);
            box-shadow: 0 0 15px rgba(255, 51, 0, 0.7);
        }
        
        .ice-arrow {
            background: linear-gradient(to right, #66ccff, #0066cc);
            box-shadow: 0 0 15px rgba(0, 102, 204, 0.7);
        }
        
        .poison-arrow {
            background: linear-gradient(to right, #99ff33, #339900);
            box-shadow: 0 0 15px rgba(51, 153, 0, 0.7);
        }
        
        .piercing-arrow {
            background: linear-gradient(to right, #cccccc, #666666);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
        }
        
        /* Efekty po √∫tokoch */
        .fire-effect {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(255,100,0,0.8) 0%, rgba(255,50,0,0) 70%);
            border-radius: 50%;
            animation: burn 1.5s infinite alternate;
            z-index: 7;
        }
        
        @keyframes burn {
            0% { transform: scale(1); opacity: 0.7; }
            100% { transform: scale(1.2); opacity: 0.9; }
        }
        
        .ice-effect {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(100,200,255,0.5) 0%, rgba(0,100,200,0) 70%);
            border-radius: 50%;
            animation: freeze 2s infinite;
            z-index: 7;
        }
        
        @keyframes freeze {
            0% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 0.6; }
        }
        
        .poison-effect {
            position: absolute;
            width: 90px;
            height: 90px;
            background: radial-gradient(circle, rgba(100,255,100,0.5) 0%, rgba(0,150,0,0) 70%);
            border-radius: 50%;
            animation: poison 2s infinite;
            z-index: 7;
        }
        
        @keyframes poison {
            0% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.15); opacity: 0.7; }
            100% { transform: scale(1); opacity: 0.5; }
        }
        
        .cooldown-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 20px;
        }
        
        @media (max-width: 1200px) {
            .main-container {
                flex-direction: column;
            }
            
            .info-section {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .info-section > div {
                flex: 1;
                min-width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .status-bar {
                flex-direction: column;
                align-items: center;
            }
            
            .player-status {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .turn-indicator {
                margin: 10px 0;
                padding: 10px 20px;
                font-size: 1.2rem;
            }
            
            .items-grid {
                grid-template-columns: 1fr;
            }
            
            .player-actions {
                flex-direction: column;
            }
            
            .attack-options {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="game-section">
            <div class="header">
                <h1>RPG Hra s Lukostreleck√Ωmi √ötokmi</h1>
                <p class="subtitle">Vyber si typ √∫toku a strategicky √∫toƒç na s√∫pera!</p>
            </div>
            
            <div class="game-container">
                <div id="game-board">
                    <div class="announcement-container">
                        <div id="announcement" class="announcement">Zaƒç√≠naj√∫ci hr√°ƒç: Hr√°ƒç 1!</div>
                    </div>
                    
                    <div id="player1" class="player">1</div>
                    <div id="player2" class="player">2</div>
                    
                    <!-- Range indicators -->
                    <div id="move-range" class="range-indicator move-range"></div>
                    <div id="attack-range" class="range-indicator attack-range"></div>
                    
                    <div id="game-over" class="game-over">
                        <div id="winner-text">Hr√°ƒç 1 Vyhral!</div>
                        <button class="restart-btn" onclick="restartGame()">Hra≈• Znova</button>
                    </div>
                </div>
            </div>
            
            <div class="status-bar">
                <div class="player-status player1-status">
                    <div class="player-name">Hr√°ƒç 1 (Ofenz√≠va)</div>
                    <div>HP: <span id="hp1">100</span></div>
                    <div class="hp-bar">
                        <div id="hp-fill1" class="hp-fill" style="width: 100%"></div>
                    </div>
                    <div id="player1-effects" style="margin-top: 10px; font-size: 0.9rem;"></div>
                </div>
                
                <div class="turn-indicator" id="turn-indicator">
                    <div>Na ≈•ahu je: Hr√°ƒç 1</div>
                    <div class="time-left" id="time-left">30s</div>
                </div>
                
                <div class="player-status player2-status">
                    <div class="player-name">Hr√°ƒç 2 (Defenz√≠va)</div>
                    <div>HP: <span id="hp2">100</span></div>
                    <div class="hp-bar">
                        <div id="hp-fill2" class="hp-fill" style="width: 100%"></div>
                    </div>
                    <div id="player2-effects" style="margin-top: 10px; font-size: 0.9rem;"></div>
                </div>
            </div>
            
            <!-- Lukostreleck√© √∫toky -->
            <div class="attack-options" id="attack-options">
                <div class="attack-option" data-attack="normal" onclick="selectAttack('normal')">
                    <div class="attack-icon">üèπ</div>
                    <div>Norm√°lny √∫tok</div>
                    <div>(15-25 dmg)</div>
                </div>
                <div class="attack-option" data-attack="fire" onclick="selectAttack('fire')">
                    <div class="attack-icon">üî•</div>
                    <div>Ohniv√Ω √∫tok</div>
                    <div>(10-20 dmg + pop√°lenie)</div>
                </div>
                <div class="attack-option" data-attack="ice" onclick="selectAttack('ice')">
                    <div class="attack-icon">‚ùÑÔ∏è</div>
                    <div>ƒΩadov√Ω √∫tok</div>
                    <div>(5-15 dmg + spomalenie)</div>
                </div>
                <div class="attack-option" data-attack="poison" onclick="selectAttack('poison')">
                    <div class="attack-icon">‚ò†Ô∏è</div>
                    <div>Jedovat√Ω √∫tok</div>
                    <div>(5-10 dmg + otrava)</div>
                </div>
                <div class="attack-option" data-attack="piercing" onclick="selectAttack('piercing')">
                    <div class="attack-icon">üí•</div>
                    <div>Priepas≈•n√Ω √∫tok</div>
                    <div>(20-30 dmg)</div>
                </div>
            </div>
            
            <div class="combat-log" id="combat-log">
                <div class="log-entry info-log">Vitajte v RPG hre s lukostreleck√Ωmi √∫tokmi!</div>
                <div class="log-entry info-log">Hr√°ƒç 1 zaƒç√≠na hru (30s na ≈•ah)</div>
                <div class="log-entry info-log">Vyberte typ √∫toku a kliknite na hern√∫ plochu</div>
            </div>
            
            <div class="player-actions">
                <div class="action-btn" onclick="skipTurn()">Preskoƒçi≈• ≈•ah</div>
                <div class="action-btn" onclick="showHelp()">Zobrazi≈• pomoc</div>
                <div class="action-btn" onclick="toggleSound()">Vypn√∫≈•/Zapn√∫≈• zvuk</div>
            </div>
        </div>
        
        <div class="info-section">
            <div class="info-card">
                <h2>Pravidl√° Hry</h2>
                <ul class="rules-list">
                    <li>Ka≈æd√Ω hr√°ƒç m√° <strong>30 sek√∫nd</strong> na vykonanie ≈•ahu</li>
                    <li>Po uplynut√≠ ƒçasu sa ≈•ah automaticky preskoƒç√≠</li>
                    <li>Kliknite na hern√∫ plochu pre pohyb postavy</li>
                    <li>Zelen√Ω kruh ukazuje dosah pohybu (250px)</li>
                    <li>ƒåerven√Ω kruh ukazuje dosah √∫toku (300px)</li>
                    <li>Vyberte typ lukostreleck√©ho √∫toku pred pohybom</li>
                    <li>Cieƒæom hry je zn√≠≈æi≈• ≈æivoty s√∫pera na nulu</li>
                </ul>
                
                <div class="sound-controls">
                    <button id="sound-toggle" class="sound-btn">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <input type="range" id="volume-slider" class="volume-slider" min="0" max="1" step="0.1" value="0.5">
                </div>
            </div>
            
            <div class="info-card">
                <h2>Lukostreleck√© √ötoky</h2>
                <div class="items-grid">
                    <div class="item-card heal-item-card">
                        <div class="item-icon heal-item">
                            üèπ
                        </div>
                        <div class="item-info">
                            <h3>Norm√°lny √∫tok</h3>
                            <p>15-25 po≈°kodenia</p>
                            <p>Bez ≈°peci√°lneho efektu</p>
                        </div>
                    </div>
                    
                    <div class="item-card damage-item-card">
                        <div class="item-icon damage-item">
                            üî•
                        </div>
                        <div class="item-info">
                            <h3>Ohniv√Ω √∫tok</h3>
                            <p>10-20 po≈°kodenia</p>
                            <p>+ Pop√°lenie (5 dmg na 3 ≈•ahy)</p>
                        </div>
                    </div>
                    
                    <div class="item-card boost-item-card">
                        <div class="item-icon boost-item">
                            ‚ùÑÔ∏è
                        </div>
                        <div class="item-info">
                            <h3>ƒΩadov√Ω √∫tok</h3>
                            <p>5-15 po≈°kodenia</p>
                            <p>+ Spomalenie pohybu o 50% na 2 ≈•ahy</p>
                        </div>
                    </div>
                    
                    <div class="item-card shield-item-card">
                        <div class="item-icon shield-item">
                            ‚ò†Ô∏è
                        </div>
                        <div class="item-info">
                            <h3>Jedovat√Ω √∫tok</h3>
                            <p>5-10 po≈°kodenia</p>
                            <p>+ Otrava (3 dmg na 4 ≈•ahy)</p>
                        </div>
                    </div>
                    
                    <div class="item-card time-item-card">
                        <div class="item-icon time-item">
                            üí•
                        </div>
                        <div class="item-info">
                            <h3>Priepas≈•n√Ω √∫tok</h3>
                            <p>20-30 po≈°kodenia</p>
                            <p>Ignoruje 50% obrany s√∫pera</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="info-card">
                <h2>Strat√©gia a Tipy</h2>
                <ul class="rules-list">
                    <li>Pl√°nujte pohyb vƒças - ƒças let√≠!</li>
                    <li>Kombinujte typy √∫tokov pre maxim√°lny efekt</li>
                    <li>Ohniv√Ω √∫tok je efekt√≠vny proti vysok√Ωm HP</li>
                    <li>ƒΩadov√Ω √∫tok zni≈æuje mobilitu s√∫pera</li>
                    <li>Jedovat√Ω √∫tok je vhodn√Ω na dlhodob√© po≈°kodenie</li>
                    <li>Priepas≈•n√Ω √∫tok je siln√Ω proti obrnen√Ωm s√∫perom</li>
                    <li>H√Ωbajte sa efekt√≠vne - vyu≈æ√≠vajte zobrazen√Ω dosah</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h2>Ovl√°danie</h2>
                <ul class="rules-list">
                    <li><strong>ƒΩav√© kliknutie</strong> - Pohyb postavy</li>
                    <li><strong>Zelen√Ω kruh</strong> - Dosah pohybu (250px)</li>
                    <li><strong>ƒåerven√Ω kruh</strong> - Dosah √∫toku (300px)</li>
                    <li><strong>V√Ωber √∫toku</strong> - Kliknite na typ √∫toku pred pohybom</li>
                    <li><strong>Preskoƒçi≈• ≈•ah</strong> - Ak sa nem√¥≈æete rozhodn√∫≈•</li>
                    <li><strong>Vypn√∫≈•/Zapn√∫≈• zvuk</strong> - Podƒæa va≈°ich preferenci√≠</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Stav hry
        const gameState = {
            currentPlayer: 1,
            player1HP: 100,
            player2HP: 100,
            gameOver: false,
            player1Position: { x: 150, y: 200 },
            player2Position: { x: 600, y: 200 },
            player1Effects: [],
            player2Effects: [],
            items: [],
            turnCounter: 1,
            soundEnabled: true,
            volume: 0.5,
            timeLeft: 30,
            moveRange: 250,
            attackRange: 300, // Zv√Ω≈°en√Ω dosah pre lukostreleck√© √∫toky
            timer: null,
            selectedAttack: 'normal',
            cooldowns: {
                player1: { fire: 0, ice: 0, poison: 0, piercing: 0 },
                player2: { fire: 0, ice: 0, poison: 0, piercing: 0 }
            }
        };
        
        // Defin√≠cia √∫tokov
        const ATTACKS = {
            normal: {
                name: "Norm√°lny √∫tok",
                icon: "üèπ",
                damage: [15, 25],
                effect: null,
                cooldown: 0,
                color: "#ff9900",
                class: ""
            },
            fire: {
                name: "Ohniv√Ω √∫tok",
                icon: "üî•",
                damage: [10, 20],
                effect: { 
                    type: 'burn', 
                    duration: 3, 
                    damagePerTurn: 5,
                    description: 'Pop√°lenie (5 dmg/turn)'
                },
                cooldown: 3,
                color: "#ff3300",
                class: "fire-arrow"
            },
            ice: {
                name: "ƒΩadov√Ω √∫tok",
                icon: "‚ùÑÔ∏è",
                damage: [5, 15],
                effect: { 
                    type: 'slow', 
                    duration: 2, 
                    moveRangeReduction: 0.5,
                    description: 'Spomalenie (50%)'
                },
                cooldown: 4,
                color: "#66ccff",
                class: "ice-arrow"
            },
            poison: {
                name: "Jedovat√Ω √∫tok",
                icon: "‚ò†Ô∏è",
                damage: [5, 10],
                effect: { 
                    type: 'poison', 
                    duration: 4, 
                    damagePerTurn: 3,
                    description: 'Otrava (3 dmg/turn)'
                },
                cooldown: 5,
                color: "#99ff33",
                class: "poison-arrow"
            },
            piercing: {
                name: "Priepas≈•n√Ω √∫tok",
                icon: "üí•",
                damage: [20, 30],
                effect: { 
                    type: 'pierce', 
                    piercePercent: 0.5,
                    description: 'Priepas≈•n√Ω √∫der'
                },
                cooldown: 3,
                color: "#cccccc",
                class: "piercing-arrow"
            }
        };
        
        // DOM elementy
        const gameBoard = document.getElementById('game-board');
        const player1 = document.getElementById('player1');
        const player2 = document.getElementById('player2');
        const turnIndicator = document.getElementById('turn-indicator');
        const hp1Element = document.getElementById('hp1');
        const hp2Element = document.getElementById('hp2');
        const hpFill1 = document.getElementById('hp-fill1');
        const hpFill2 = document.getElementById('hp-fill2');
        const gameOverScreen = document.getElementById('game-over');
        const winnerText = document.getElementById('winner-text');
        const announcement = document.getElementById('announcement');
        const combatLog = document.getElementById('combat-log');
        const player1Effects = document.getElementById('player1-effects');
        const player2Effects = document.getElementById('player2-effects');
        const soundToggle = document.getElementById('sound-toggle');
        const volumeSlider = document.getElementById('volume-slider');
        const timeLeftElement = document.getElementById('time-left');
        const moveRangeIndicator = document.getElementById('move-range');
        const attackRangeIndicator = document.getElementById('attack-range');
        const attackOptions = document.getElementById('attack-options');
        
        // Poƒçiatoƒçn√© nastavenie
        updateHPBars();
        showAnnouncement("Zaƒç√≠naj√∫ci hr√°ƒç: Hr√°ƒç 1!");
        generateItems();
        startTurnTimer();
        updateRangeIndicators();
        updateCooldowns();
        
        // Nastavenie zvuku
        soundToggle.addEventListener('click', () => {
            gameState.soundEnabled = !gameState.soundEnabled;
            soundToggle.innerHTML = gameState.soundEnabled 
                ? '<i class="fas fa-volume-up"></i>' 
                : '<i class="fas fa-volume-mute"></i>';
            addCombatLog(`Zvuky boli ${gameState.soundEnabled ? 'zapnut√©' : 'vypnut√©'}`, 'info-log');
        });
        
        volumeSlider.addEventListener('input', (e) => {
            gameState.volume = parseFloat(e.target.value);
        });
        
        // V√Ωber √∫toku
        function selectAttack(type) {
            // Skontrolova≈• cooldown
            const cooldownKey = `player${gameState.currentPlayer}`;
            if (gameState.cooldowns[cooldownKey][type] > 0) {
                addCombatLog(`Tento √∫tok je e≈°te na cooldowne! Zost√°vaj√∫ce kola: ${gameState.cooldowns[cooldownKey][type]}`, 'damage-log');
                return;
            }
            
            gameState.selectedAttack = type;
            
            // Zv√Ωrazni≈• vybran√Ω √∫tok
            document.querySelectorAll('.attack-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`.attack-option[data-attack="${type}"]`).classList.add('selected');
            
            addCombatLog(`Hr√°ƒç ${gameState.currentPlayer} vybral √∫tok: ${ATTACKS[type].name}`, 'info-log');
        }
        
        // Event listener pre pohyb post√°v
        gameBoard.addEventListener('click', function(event) {
            if (gameState.gameOver) return;
            
            // Skontrolova≈• ƒçi hr√°ƒç nie je zamrznut√Ω
            const isPlayerFrozen = gameState.currentPlayer === 1 
                ? gameState.player1Effects.some(e => e.type === 'TRAP')
                : gameState.player2Effects.some(e => e.type === 'TRAP');
            
            if (isPlayerFrozen) {
                addCombatLog(`Hr√°ƒç ${gameState.currentPlayer} je zamrznut√Ω a nem√¥≈æe sa h√Ωba≈•!`, 'damage-log');
                endTurn();
                return;
            }
            
            const rect = gameBoard.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            const playerX = gameState.currentPlayer === 1 ? gameState.player1Position.x : gameState.player2Position.x;
            const playerY = gameState.currentPlayer === 1 ? gameState.player1Position.y : gameState.player2Position.y;
            
            // Skontrolova≈• vzdialenos≈• pohybu
            const distance = Math.sqrt(Math.pow(x - (playerX + 35), 2) + Math.pow(y - (playerY + 35), 2));
            if (distance > gameState.moveRange) {
                addCombatLog(`Nem√¥≈æete sa pohn√∫≈• tak ƒèaleko! Maxim√°lny dosah je ${gameState.moveRange}px.`, 'damage-log');
                return;
            }
            
            // Prehraj zvuk pohybu
            if (gameState.soundEnabled) playSoundEffect('move');
            
            // Pohyb aktu√°lneho hr√°ƒça
            if (gameState.currentPlayer === 1) {
                gameState.player1Position = { x: x - 35, y: y - 35 };
                player1.style.left = `${gameState.player1Position.x}px`;
                player1.style.top = `${gameState.player1Position.y}px`;
                
                // 20% ≈°anca na lieƒçenie pri pohybe
                if (Math.random() < 0.2 && gameState.player1HP < 100) {
                    const healAmount = Math.floor(Math.random() * 10) + 5;
                    gameState.player1HP = Math.min(100, gameState.player1HP + healAmount);
                    updateHPBars();
                    showSpecialEffect(player1, `+${healAmount} HP`, '#33ff77');
                    addCombatLog(`Hr√°ƒç 1 sa lieƒçi za ${healAmount} HP`, 'heal-log');
                    if (gameState.soundEnabled) playSoundEffect('heal');
                }
            } else {
                gameState.player2Position = { x: x - 35, y: y - 35 };
                player2.style.left = `${gameState.player2Position.x}px`;
                player2.style.top = `${gameState.player2Position.y}px`;
                
                // 20% ≈°anca na lieƒçenie pri pohybe
                if (Math.random() < 0.2 && gameState.player2HP < 100) {
                    const healAmount = Math.floor(Math.random() * 10) + 5;
                    gameState.player2HP = Math.min(100, gameState.player2HP + healAmount);
                    updateHPBars();
                    showSpecialEffect(player2, `+${healAmount} HP`, '#33ff77');
                    addCombatLog(`Hr√°ƒç 2 sa lieƒçi za ${healAmount} HP`, 'heal-log');
                    if (gameState.soundEnabled) playSoundEffect('heal');
                }
            }
            
            // Skontrolova≈• zber predmetov
            checkItemCollection();
            
            // Skontrolova≈• √∫tok na s√∫pera
            checkForAttack();
        });
        
        // Funkcia na spustenie ƒçasovaƒça ≈•ahu
        function startTurnTimer() {
            clearInterval(gameState.timer);
            gameState.timeLeft = 30;
            updateTimeDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimeDisplay();
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    addCombatLog(`ƒåas vypr≈°al! Hr√°ƒç ${gameState.currentPlayer} preskoƒçil ≈•ah.`, 'damage-log');
                    endTurn();
                }
            }, 1000);
        }
        
        // Funkcia na aktualiz√°ciu zobrazenia ƒçasu
        function updateTimeDisplay() {
            timeLeftElement.textContent = `${gameState.timeLeft}s`;
            
            // Zmena farby podƒæa zost√°vaj√∫ceho ƒçasu
            if (gameState.timeLeft <= 10) {
                timeLeftElement.style.color = '#ff6666';
                timeLeftElement.style.animation = 'pulse 0.5s infinite';
            } else if (gameState.timeLeft <= 20) {
                timeLeftElement.style.color = '#ffcc00';
                timeLeftElement.style.animation = 'none';
            } else {
                timeLeftElement.style.color = '#ffffff';
                timeLeftElement.style.animation = 'none';
            }
        }
        
        // Funkcia na aktualiz√°ciu indik√°torov dosahu
        function updateRangeIndicators() {
            // Dosah pohybu
            moveRangeIndicator.style.width = `${gameState.moveRange * 2}px`;
            moveRangeIndicator.style.height = `${gameState.moveRange * 2}px`;
            
            // Dosah √∫toku
            attackRangeIndicator.style.width = `${gameState.attackRange * 2}px`;
            attackRangeIndicator.style.height = `${gameState.attackRange * 2}px`;
            
            // Zobrazi≈• podƒæa aktu√°lneho hr√°ƒça
            if (gameState.currentPlayer === 1) {
                moveRangeIndicator.style.left = `${gameState.player1Position.x + 35 - gameState.moveRange}px`;
                moveRangeIndicator.style.top = `${gameState.player1Position.y + 35 - gameState.moveRange}px`;
                moveRangeIndicator.style.display = 'block';
                
                attackRangeIndicator.style.left = `${gameState.player2Position.x + 35 - gameState.attackRange}px`;
                attackRangeIndicator.style.top = `${gameState.player2Position.y + 35 - gameState.attackRange}px`;
                attackRangeIndicator.style.display = 'block';
            } else {
                moveRangeIndicator.style.left = `${gameState.player2Position.x + 35 - gameState.moveRange}px`;
                moveRangeIndicator.style.top = `${gameState.player2Position.y + 35 - gameState.moveRange}px`;
                moveRangeIndicator.style.display = 'block';
                
                attackRangeIndicator.style.left = `${gameState.player1Position.x + 35 - gameState.attackRange}px`;
                attackRangeIndicator.style.top = `${gameState.player1Position.y + 35 - gameState.attackRange}px`;
                attackRangeIndicator.style.display = 'block';
            }
        }
        
        // Funkcia na ukonƒçenie ≈•ahu
        function endTurn() {
            // Aktualizova≈• cooldowny
            updateCooldowns();
            
            // Zmeni≈• hr√°ƒça
            gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
            turnIndicator.innerHTML = `<div>Na ≈•ahu je: Hr√°ƒç ${gameState.currentPlayer}</div>`;
            addCombatLog(`Na ≈•ahu je Hr√°ƒç ${gameState.currentPlayer}`, 'info-log');
            
            // Resetova≈• v√Ωber √∫toku
            gameState.selectedAttack = 'normal';
            document.querySelectorAll('.attack-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector('.attack-option[data-attack="normal"]').classList.add('selected');
            
            // Aktualizova≈• efekty
            updateEffects();
            
            // Zv√Ω≈°i≈• poƒç√≠tadlo ≈•ahov
            gameState.turnCounter++;
            
            // Prid√°va≈• nov√© predmety ka≈æd√© 2 ≈•ahy
            if (gameState.turnCounter % 2 === 0) {
                generateItems();
            }
            
            // Spusti≈• ƒçasovaƒç pre nov√Ω ≈•ah
            startTurnTimer();
            
            // Aktualizova≈• indik√°tory dosahu
            updateRangeIndicators();
        }
        
        // Funkcia na kontrolu zberu predmetov
        function checkItemCollection() {
            const player = gameState.currentPlayer === 1 ? gameState.player1Position : gameState.player2Position;
            
            for (let i = gameState.items.length - 1; i >= 0; i--) {
                const item = gameState.items[i];
                const dx = player.x - item.x;
                const dy = player.y - item.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 60) { // Zber predmetu
                    item.type.effect(gameState.currentPlayer);
                    
                    // Odstr√°ni≈• predmet z DOM
                    if (item.element && item.element.parentNode) {
                        item.element.parentNode.removeChild(item.element);
                    }
                    
                    // Odstr√°ni≈• predmet zo zoznamu
                    gameState.items.splice(i, 1);
                }
            }
        }
        
        // Funkcia na kontrolu √∫toku na s√∫pera
        function checkForAttack() {
            const dx = gameState.player1Position.x - gameState.player2Position.x;
            const dy = gameState.player1Position.y - gameState.player2Position.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            // Ak s√∫ postavy v dosahu √∫toku
            if (distance < gameState.attackRange) {
                // Vykona≈• √∫tok
                performAttack();
            } else {
                addCombatLog(`S√∫per je mimo dosahu √∫toku (${Math.round(distance)}px > ${gameState.attackRange}px)`, 'info-log');
            }
            
            // Ukonƒçi≈• ≈•ah
            endTurn();
        }
        
        // Funkcia na vykonanie √∫toku
        function performAttack() {
            const attackType = ATTACKS[gameState.selectedAttack];
            const attacker = gameState.currentPlayer;
            const defender = gameState.currentPlayer === 1 ? 2 : 1;
            
            // Vytvori≈• ≈°√≠p
            createArrow(attacker, defender, attackType);
            
            // Po kr√°tkom ƒçase spracova≈• √∫tok
            setTimeout(() => {
                let damage = Math.floor(Math.random() * (attackType.damage[1] - attackType.damage[0] + 1)) + attackType.damage[0];
                let isCritical = false;
                
                // 15% ≈°anca na kritick√Ω √∫tok
                if (Math.random() < 0.15) {
                    damage = Math.floor(damage * 1.8);
                    isCritical = true;
                }
                
                // Aplikova≈• efekty √∫toƒçn√≠ka
                if (attacker === 1) {
                    // Zv√Ω≈°i≈• damage ak m√° √∫toƒçn√≠k boost
                    const attackBoost = gameState.player1Effects.filter(e => e.type === 'ATTACK_BOOST').length;
                    if (attackBoost) {
                        damage = Math.floor(damage * (1 + (attackBoost > 1 ? 0.5 : 0.1)));
                    }
                    
                    // Zn√≠≈æi≈• damage ak m√° obranca boost
                    const defenseBoost = gameState.player2Effects.filter(e => e.type === 'DEFENSE_BOOST').length;
                    if (defenseBoost) {
                        damage = Math.floor(damage * (1 - (defenseBoost > 1 ? 0.5 : 0.1)));
                    }
                    
                    // Priepas≈•n√Ω √∫tok ignoruje 50% obrany
                    if (attackType.effect && attackType.effect.type === 'pierce') {
                        const defenseReduction = Math.floor(damage * attackType.effect.piercePercent);
                        damage += defenseReduction;
                    }
                    
                    gameState.player2HP = Math.max(0, gameState.player2HP - damage);
                    
                    // Ozn√°menie o √∫toku
                    if (isCritical) {
                        showAnnouncement(`HR√Åƒå 1 KRITICK√ù √öTOK! Sp√¥sobil ${damage} ≈°kody!`, 'critical-hit');
                        addCombatLog(`Hr√°ƒç 1 kriticky √∫toƒç√≠ za ${damage} ≈°kody!`, 'critical-log');
                    } else {
                        showAnnouncement(`Hr√°ƒç 1 √∫toƒç√≠ na Hr√°ƒça 2 a sp√¥sobil ${damage} ≈°kody!`);
                        addCombatLog(`Hr√°ƒç 1 √∫toƒç√≠ ${attackType.name.toLowerCase()} za ${damage} ≈°kody`, 'damage-log');
                    }
                    
                    showSpecialEffect(player2, `-${damage} HP`, '#ff6666');
                    
                    // Prida≈• ≈°peci√°lny efekt
                    if (attackType.effect) {
                        const effect = { ...attackType.effect };
                        gameState.player2Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 2 je ovplyvnen√Ω: ${effect.description}`, 'item-log');
                        
                        // Vizualiz√°cia efektu
                        createEffect(defender, attackType);
                    }
                } else {
                    // Zv√Ω≈°i≈• damage ak m√° √∫toƒçn√≠k boost
                    const attackBoost = gameState.player2Effects.filter(e => e.type === 'ATTACK_BOOST').length;
                    if (attackBoost) {
                        damage = Math.floor(damage * (1 + (attackBoost > 1 ? 0.5 : 0.1)));
                    }
                    
                    // Zn√≠≈æi≈• damage ak m√° obranca boost
                    const defenseBoost = gameState.player1Effects.filter(e => e.type === 'DEFENSE_BOOST').length;
                    if (defenseBoost) {
                        damage = Math.floor(damage * (1 - (defenseBoost > 1 ? 0.5 : 0.1)));
                    }
                    
                    // Priepas≈•n√Ω √∫tok ignoruje 50% obrany
                    if (attackType.effect && attackType.effect.type === 'pierce') {
                        const defenseReduction = Math.floor(damage * attackType.effect.piercePercent);
                        damage += defenseReduction;
                    }
                    
                    gameState.player1HP = Math.max(0, gameState.player1HP - damage);
                    
                    // Ozn√°menie o √∫toku
                    if (isCritical) {
                        showAnnouncement(`HR√Åƒå 2 KRITICK√ù √öTOK! Sp√¥sobil ${damage} ≈°kody!`, 'critical-hit');
                        addCombatLog(`Hr√°ƒç 2 kriticky √∫toƒç√≠ za ${damage} ≈°kody!`, 'critical-log');
                    } else {
                        showAnnouncement(`Hr√°ƒç 2 √∫toƒç√≠ na Hr√°ƒça 1 a sp√¥sobil ${damage} ≈°kody!`);
                        addCombatLog(`Hr√°ƒç 2 √∫toƒç√≠ ${attackType.name.toLowerCase()} za ${damage} ≈°kody`, 'damage-log');
                    }
                    
                    showSpecialEffect(player1, `-${damage} HP`, '#ff6666');
                    
                    // Prida≈• ≈°peci√°lny efekt
                    if (attackType.effect) {
                        const effect = { ...attackType.effect };
                        gameState.player1Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 1 je ovplyvnen√Ω: ${effect.description}`, 'item-log');
                        
                        // Vizualiz√°cia efektu
                        createEffect(defender, attackType);
                    }
                }
                
                // Nastavi≈• cooldown
                if (attackType.cooldown > 0) {
                    const cooldownKey = `player${attacker}`;
                    gameState.cooldowns[cooldownKey][gameState.selectedAttack] = attackType.cooldown;
                    updateCooldowns();
                }
                
                updateHPBars();
                
                // Prehra≈• zvuk √∫toku
                if (gameState.soundEnabled) {
                    if (isCritical) {
                        playSoundEffect('critical');
                    } else {
                        playSoundEffect('attack');
                    }
                }
                
                // Skontrolova≈• koniec hry
                if (gameState.player1HP <= 0 || gameState.player2HP <= 0) {
                    endGame();
                }
            }, 500);
        }
        
        // Funkcia na vytvorenie ≈°√≠pu
        function createArrow(attacker, defender, attackType) {
            const attackerPos = attacker === 1 ? gameState.player1Position : gameState.player2Position;
            const defenderPos = defender === 1 ? gameState.player1Position : gameState.player2Position;
            
            const arrow = document.createElement('div');
            arrow.className = `arrow ${attackType.class}`;
            
            // Poz√≠cia
            const startX = attackerPos.x + 35;
            const startY = attackerPos.y + 35;
            const endX = defenderPos.x + 35;
            const endY = defenderPos.y + 35;
            
            arrow.style.left = `${startX}px`;
            arrow.style.top = `${startY}px`;
            
            // Dƒ∫≈æka a uhol
            const dx = endX - startX;
            const dy = endY - startY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
            
            arrow.style.width = `${distance}px`;
            arrow.style.transform = `rotate(${angle}deg)`;
            
            gameBoard.appendChild(arrow);
            
            // Animova≈• ≈°√≠p
            setTimeout(() => {
                arrow.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out';
                arrow.style.transform = `translate(${dx}px, ${dy}px) rotate(${angle}deg)`;
                arrow.style.opacity = '0';
                
                // Odstr√°ni≈• ≈°√≠p po anim√°cii
                setTimeout(() => {
                    if (arrow.parentNode) {
                        arrow.parentNode.removeChild(arrow);
                    }
                }, 500);
            }, 10);
        }
        
        // Funkcia na vytvorenie efektu √∫toku
        function createEffect(player, attackType) {
            const playerElement = player === 1 ? player1 : player2;
            const effect = document.createElement('div');
            
            if (attackType.name === "Ohniv√Ω √∫tok") {
                effect.className = 'fire-effect';
            } else if (attackType.name === "ƒΩadov√Ω √∫tok") {
                effect.className = 'ice-effect';
            } else if (attackType.name === "Jedovat√Ω √∫tok") {
                effect.className = 'poison-effect';
            }
            
            if (effect.className) {
                effect.style.left = `${parseInt(playerElement.style.left) - 15}px`;
                effect.style.top = `${parseInt(playerElement.style.top) - 15}px`;
                gameBoard.appendChild(effect);
                
                // Odstr√°ni≈• efekt po ƒçase
                setTimeout(() => {
                    if (effect.parentNode) {
                        effect.parentNode.removeChild(effect);
                    }
                }, 2000);
            }
        }
        
        // Funkcia na zobrazenie ozn√°menia
        function showAnnouncement(message, className = '') {
            announcement.textContent = message;
            announcement.className = 'announcement';
            if (className) announcement.classList.add(className);
            announcement.classList.add('show');
            
            setTimeout(() => {
                announcement.classList.remove('show');
                setTimeout(() => {
                    announcement.className = 'announcement';
                }, 500);
            }, 3000);
        }
        
        // Funkcia na pridanie spr√°vy do combat logu
        function addCombatLog(message, className = '') {
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${className}`;
            logEntry.textContent = message;
            combatLog.appendChild(logEntry);
            
            // Scroll na doln√∫ ƒças≈• logu
            combatLog.scrollTop = combatLog.scrollHeight;
            
            // Odstr√°ni≈• najstar≈°ie spr√°vy ak je ich pr√≠li≈° veƒæa
            if (combatLog.children.length > 8) {
                combatLog.removeChild(combatLog.firstChild);
            }
        }
        
        // Funkcia na zobrazenie ≈°peci√°lneho efektu (po≈°kodenie, lieƒçenie)
        function showSpecialEffect(element, text, color) {
            const effect = document.createElement('div');
            effect.className = 'special-effect';
            effect.textContent = text;
            effect.style.color = color;
            effect.style.left = `${parseInt(element.style.left) + 35}px`;
            effect.style.top = `${parseInt(element.style.top) - 10}px`;
            gameBoard.appendChild(effect);
            
            // Odstr√°ni≈• efekt po anim√°cii
            setTimeout(() => {
                effect.remove();
            }, 2000);
        }
        
        // Funkcia na aktualiz√°ciu HP panelov
        function updateHPBars() {
            hp1Element.textContent = gameState.player1HP;
            hp2Element.textContent = gameState.player2HP;
            hpFill1.style.width = `${gameState.player1HP}%`;
            hpFill2.style.width = `${gameState.player2HP}%`;
        }
        
        // Funkcia na ukonƒçenie hry
        function endGame() {
            gameState.gameOver = true;
            clearInterval(gameState.timer);
            if (gameState.player1HP <= 0) {
                winnerText.textContent = "Hr√°ƒç 2 Vyhral!";
                showAnnouncement("HR√Åƒå 2 VYHR√ÅVA!", "heal");
            } else {
                winnerText.textContent = "Hr√°ƒç 1 Vyhral!";
                showAnnouncement("HR√Åƒå 1 VYHR√ÅVA!", "heal");
            }
            gameOverScreen.style.display = "flex";
            
            // Prehra≈• v√≠≈•azn√Ω zvuk
            if (gameState.soundEnabled) playSoundEffect('win');
        }
        
        // Funkcia na generovanie predmetov
        function generateItems() {
            // Odstr√°ni≈• star√© predmety
            document.querySelectorAll('.item').forEach(item => item.remove());
            gameState.items = [];
            
            // Poƒçet predmetov na generovanie (2-4)
            const itemCount = Math.floor(Math.random() * 3) + 2;
            
            for (let i = 0; i < itemCount; i++) {
                // N√°hodn√Ω typ predmetu
                const itemKeys = Object.keys(ITEM_TYPES);
                const randomKey = itemKeys[Math.floor(Math.random() * itemKeys.length)];
                const itemType = ITEM_TYPES[randomKey];
                
                // N√°hodn√° poz√≠cia (vyhn√∫≈• sa hr√°ƒçom)
                let x, y;
                let validPosition = false;
                
                while (!validPosition) {
                    x = Math.floor(Math.random() * (gameBoard.offsetWidth - 60));
                    y = Math.floor(Math.random() * (gameBoard.offsetHeight - 60));
                    
                    // Skontrolova≈• vzdialenos≈• od hr√°ƒçov
                    const distToPlayer1 = Math.sqrt(
                        Math.pow(x - gameState.player1Position.x, 2) + 
                        Math.pow(y - gameState.player1Position.y, 2)
                    );
                    
                    const distToPlayer2 = Math.sqrt(
                        Math.pow(x - gameState.player2Position.x, 2) + 
                        Math.pow(y - gameState.player2Position.y, 2)
                    );
                    
                    if (distToPlayer1 > 100 && distToPlayer2 > 100) {
                        validPosition = true;
                    }
                }
                
                // Vytvori≈• DOM element pre predmet
                const itemElement = document.createElement('div');
                itemElement.className = `item ${itemType.class}`;
                itemElement.style.left = `${x}px`;
                itemElement.style.top = `${y}px`;
                itemElement.innerHTML = `<i class="${itemType.icon}"></i>`;
                
                gameBoard.appendChild(itemElement);
                
                // Ulo≈æi≈• do stavu hry
                gameState.items.push({
                    type: itemType,
                    x: x,
                    y: y,
                    element: itemElement
                });
            }
            
            addCombatLog(`Na hernej ploche sa objavili nov√© predmety!`, 'info-log');
        }
        
        // Funkcia na aktualiz√°ciu efektov hr√°ƒçov
        function updateEffects() {
            // Aktualizova≈• efekty hr√°ƒça 1
            for (let i = gameState.player1Effects.length - 1; i >= 0; i--) {
                const effect = gameState.player1Effects[i];
                
                // Aplikova≈• po≈°kodenie z efektov
                if (effect.type === 'burn' || effect.type === 'poison') {
                    gameState.player1HP = Math.max(0, gameState.player1HP - effect.damagePerTurn);
                    showSpecialEffect(player1, `-${effect.damagePerTurn} HP`, '#ff6666');
                    addCombatLog(`Hr√°ƒç 1 utrpel ${effect.damagePerTurn} po≈°kodenia od ${effect.type === 'burn' ? 'pop√°lenia' : 'otravy'}`, 'damage-log');
                }
                
                // Zn√≠≈æi≈• trvanie efektu
                effect.duration--;
                if (effect.duration <= 0) {
                    gameState.player1Effects.splice(i, 1);
                    addCombatLog(`Efekt ${effect.description} u Hr√°ƒça 1 vypr≈°al`, 'info-log');
                }
            }
            
            // Aktualizova≈• efekty hr√°ƒça 2
            for (let i = gameState.player2Effects.length - 1; i >= 0; i--) {
                const effect = gameState.player2Effects[i];
                
                // Aplikova≈• po≈°kodenie z efektov
                if (effect.type === 'burn' || effect.type === 'poison') {
                    gameState.player2HP = Math.max(0, gameState.player2HP - effect.damagePerTurn);
                    showSpecialEffect(player2, `-${effect.damagePerTurn} HP`, '#ff6666');
                    addCombatLog(`Hr√°ƒç 2 utrpel ${effect.damagePerTurn} po≈°kodenia od ${effect.type === 'burn' ? 'pop√°lenia' : 'otravy'}`, 'damage-log');
                }
                
                // Zn√≠≈æi≈• trvanie efektu
                effect.duration--;
                if (effect.duration <= 0) {
                    gameState.player2Effects.splice(i, 1);
                    addCombatLog(`Efekt ${effect.description} u Hr√°ƒça 2 vypr≈°al`, 'info-log');
                }
            }
            
            updateHPBars();
            updatePlayerEffects();
            
            // Skontrolova≈• koniec hry
            if (gameState.player1HP <= 0 || gameState.player2HP <= 0) {
                endGame();
            }
        }
        
        // Funkcia na zobrazenie efektov hr√°ƒçov
        function updatePlayerEffects() {
            player1Effects.innerHTML = gameState.player1Effects
                .map(e => `<div>${e.description} (${e.duration} ≈•ah${e.duration > 1 ? 'y' : ''})</div>`)
                .join('');
                
            player2Effects.innerHTML = gameState.player2Effects
                .map(e => `<div>${e.description} (${e.duration} ≈•ah${e.duration > 1 ? 'y' : ''})</div>`)
                .join('');
        }
        
        // Funkcia na aktualiz√°ciu cooldownov
        function updateCooldowns() {
            const player = `player${gameState.currentPlayer}`;
            const cooldowns = gameState.cooldowns[player];
            
            // Aktualizova≈• zobrazenie
            document.querySelectorAll('.attack-option').forEach(option => {
                const attackType = option.dataset.attack;
                if (attackType !== 'normal') {
                    const cooldown = cooldowns[attackType];
                    
                    // Odstr√°ni≈• star√© cooldown overlay
                    const existingOverlay = option.querySelector('.cooldown-overlay');
                    if (existingOverlay) {
                        existingOverlay.remove();
                    }
                    
                    // Prida≈• nov√Ω cooldown overlay ak je potrebn√©
                    if (cooldown > 0) {
                        const overlay = document.createElement('div');
                        overlay.className = 'cooldown-overlay';
                        overlay.textContent = cooldown;
                        option.appendChild(overlay);
                        option.classList.add('disabled');
                    } else {
                        option.classList.remove('disabled');
                    }
                }
            });
        }
        
        // Funkcia na re≈°tartovanie hry
        function restartGame() {
            clearInterval(gameState.timer);
            gameState.currentPlayer = 1;
            gameState.player1HP = 100;
            gameState.player2HP = 100;
            gameState.gameOver = false;
            gameState.player1Effects = [];
            gameState.player2Effects = [];
            gameState.items = [];
            gameState.turnCounter = 1;
            gameState.selectedAttack = 'normal';
            gameState.cooldowns = {
                player1: { fire: 0, ice: 0, poison: 0, piercing: 0 },
                player2: { fire: 0, ice: 0, poison: 0, piercing: 0 }
            };
            
            // Resetova≈• poz√≠cie
            gameState.player1Position = { x: 150, y: 200 };
            gameState.player2Position = { x: 600, y: 200 };
            player1.style.left = "150px";
            player1.style.top = "200px";
            player2.style.left = "600px";
            player2.style.top = "200px";
            
            // Vyƒçisti≈• combat log
            combatLog.innerHTML = '<div class="log-entry info-log">Hra bola re≈°tartovan√°</div>';
            
            updateHPBars();
            updatePlayerEffects();
            turnIndicator.innerHTML = `<div>Na ≈•ahu je: Hr√°ƒç 1</div>`;
            gameOverScreen.style.display = "none";
            showAnnouncement("Hra bola re≈°tartovan√°! Hr√°ƒç 1 zaƒç√≠na.");
            
            // Resetova≈• v√Ωber √∫toku
            document.querySelectorAll('.attack-option').forEach(option => {
                option.classList.remove('selected');
                option.classList.remove('disabled');
                
                // Odstr√°ni≈• cooldown overlay
                const overlay = option.querySelector('.cooldown-overlay');
                if (overlay) overlay.remove();
            });
            document.querySelector('.attack-option[data-attack="normal"]').classList.add('selected');
            
            // Generova≈• nov√© predmety
            generateItems();
            
            // Spusti≈• ƒçasovaƒç
            startTurnTimer();
            
            // Aktualizova≈• indik√°tory
            updateRangeIndicators();
        }
        
        // Funkcia na prehratie zvuku
        function playSoundEffect(type) {
            // Zjednodu≈°en√° implement√°cia pre pr√≠klad
            if (type === 'move') {
                const moveSound = new Audio('https://www.soundjay.com/button/button-3.mp3');
                moveSound.volume = gameState.volume;
                moveSound.play();
            } else if (type === 'attack') {
                const attackSound = new Audio('https://www.soundjay.com/melee/sword-swing-1.mp3');
                attackSound.volume = gameState.volume;
                attackSound.play();
            } else if (type === 'critical') {
                const critSound = new Audio('https://www.soundjay.com/melee/punch-1.mp3');
                critSound.volume = gameState.volume;
                critSound.play();
            } else if (type === 'heal') {
                const healSound = new Audio('https://www.soundjay.com/misc/magic-chime-01.mp3');
                healSound.volume = gameState.volume;
                healSound.play();
            } else if (type === 'win') {
                const winSound = new Audio('https://www.soundjay.com/misc/sounds/magic-chime-02.mp3');
                winSound.volume = gameState.volume;
                winSound.play();
            }
        }
        
        // Funkcia na preskoƒçenie ≈•ahu
        function skipTurn() {
            addCombatLog(`Hr√°ƒç ${gameState.currentPlayer} preskoƒçil svoj ≈•ah!`, 'info-log');
            endTurn();
        }
        
        // Funkcia na zobrazenie pomoci
        function showHelp() {
            addCombatLog("Pomoc: Kliknite na hern√∫ plochu pre pohyb postavy", 'info-log');
            showAnnouncement("Zelen√Ω kruh = pohyb (250px), ƒåerven√Ω kruh = √∫tok (300px)");
        }
        
        // Funkcia na vypnutie/zapnutie zvuku
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            soundToggle.innerHTML = gameState.soundEnabled 
                ? '<i class="fas fa-volume-up"></i>' 
                : '<i class="fas fa-volume-mute"></i>';
            addCombatLog(`Zvuky boli ${gameState.soundEnabled ? 'zapnut√©' : 'vypnut√©'}`, 'info-log');
        }
        
        // Typy predmetov
        const ITEM_TYPES = {
            HEAL: { 
                name: "Srdce", 
                icon: "fas fa-heart", 
                class: "heal-item",
                effect: (player) => {
                    const healAmount = Math.floor(Math.random() * 11) + 15; // 15-25 HP
                    if (player === 1) {
                        gameState.player1HP = Math.min(100, gameState.player1HP + healAmount);
                        addCombatLog(`Hr√°ƒç 1 zobral Srdce a z√≠skal ${healAmount} HP!`, 'heal-log');
                    } else {
                        gameState.player2HP = Math.min(100, gameState.player2HP + healAmount);
                        addCombatLog(`Hr√°ƒç 2 zobral Srdce a z√≠skal ${healAmount} HP!`, 'heal-log');
                    }
                    updateHPBars();
                    if (gameState.soundEnabled) playSoundEffect('heal');
                }
            },
            DAMAGE: { 
                name: "Bomba", 
                icon: "fas fa-bomb", 
                class: "damage-item",
                effect: (player) => {
                    const damage = Math.floor(Math.random() * 11) + 15; // 15-25 HP
                    if (player === 1) {
                        gameState.player1HP = Math.max(0, gameState.player1HP - damage);
                        addCombatLog(`Hr√°ƒç 1 zobral Bombu a stratil ${damage} HP!`, 'damage-log');
                    } else {
                        gameState.player2HP = Math.max(0, gameState.player2HP - damage);
                        addCombatLog(`Hr√°ƒç 2 zobral Bombu a stratil ${damage} HP!`, 'damage-log');
                    }
                    updateHPBars();
                    if (gameState.soundEnabled) playSoundEffect('attack');
                }
            },
            ATTACK_BOOST: { 
                name: "Blesk", 
                icon: "fas fa-bolt", 
                class: "boost-item",
                effect: (player) => {
                    const effect = { 
                        type: 'ATTACK_BOOST', 
                        duration: 2,
                        description: '+50% k √∫toku'
                    };
                    
                    if (player === 1) {
                        gameState.player1Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 1 zobral Blesk: +50% k √∫toku na 2 ≈•ahy!`, 'item-log');
                    } else {
                        gameState.player2Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 2 zobral Blesk: +50% k √∫toku na 2 ≈•ahy!`, 'item-log');
                    }
                    updatePlayerEffects();
                    if (gameState.soundEnabled) playSoundEffect('item');
                }
            },
            DEFENSE_BOOST: { 
                name: "≈†t√≠t", 
                icon: "fas fa-shield-alt", 
                class: "shield-item",
                effect: (player) => {
                    const effect = { 
                        type: 'DEFENSE_BOOST', 
                        duration: 2,
                        description: '-50% po≈°kodenia'
                    };
                    
                    if (player === 1) {
                        gameState.player1Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 1 zobral ≈†t√≠t: -50% po≈°kodenia na 2 ≈•ahy!`, 'item-log');
                    } else {
                        gameState.player2Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 2 zobral ≈†t√≠t: -50% po≈°kodenia na 2 ≈•ahy!`, 'item-log');
                    }
                    updatePlayerEffects();
                    if (gameState.soundEnabled) playSoundEffect('item');
                }
            },
            TIME_EXTEND: { 
                name: "Hodiny", 
                icon: "fas fa-hourglass-half", 
                class: "time-item",
                effect: (player) => {
                    gameState.timeLeft += 15;
                    updateTimeDisplay();
                    if (player === 1) {
                        addCombatLog(`Hr√°ƒç 1 zobral Hodiny: +15 sek√∫nd k ƒçasu!`, 'item-log');
                    } else {
                        addCombatLog(`Hr√°ƒç 2 zobral Hodiny: +15 sek√∫nd k ƒçasu!`, 'item-log');
                    }
                    if (gameState.soundEnabled) playSoundEffect('time');
                }
            },
            TRAP: { 
                name: "Pasca", 
                icon: "fas fa-skull", 
                class: "trap-item",
                effect: (player) => {
                    const effect = { 
                        type: 'TRAP', 
                        duration: 1,
                        description: 'Zamrznut√Ω'
                    };
                    
                    if (player === 1) {
                        gameState.player1Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 1 zobral Pascu: zamrznut√Ω na 1 ≈•ah!`, 'damage-log');
                    } else {
                        gameState.player2Effects.push(effect);
                        addCombatLog(`Hr√°ƒç 2 zobral Pascu: zamrznut√Ω na 1 ≈•ah!`, 'damage-log');
                    }
                    updatePlayerEffects();
                    if (gameState.soundEnabled) playSoundEffect('trap');
                }
            }
        };
    </script>
</body>
</html>